<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arrastar e Soltar</title>












    <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
          /* border: 1px red solid; */
        }
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh; 
            width: 100vw; 
            margin: 0;
            overflow: hidden;
            position: relative;
        }

        section {
            /* width: 200px;
            height: 200px;
            background-color: #3498db;
            color: #fff;
            text-align: center;
            line-height: 200px; */
            cursor: move;
            user-select: none;
            position: absolute;
            touch-action: none; /* Evita o comportamento 
            padrão de toque */
            position: absolute;
        }

        img {
            max-width: 100%; /* ou defina max-height: 100%; dependendo do comportamento desejado */
            height: auto; /* Isso ajuda a manter a proporção da imagem */
            display: block;
            margin: auto;
            transition: transform 0.5s ease;
            display: block;
            margin: auto;
        }  

        button {
            position: fixed;
            top: 0;
            left: 0;
            margin: 10px 10px;
          padding: 2px;
          border: 1px orange solid;
          border-radius: 4px;
            background-color: wheat;
        }  

        a {
            text-decoration: none;
        }
  </style>
</head>












<body>

    <section id="drag1" onclick="confirmRedirect()" onmousedown="startDrag(event)" ontouchstart="startDrag(event)">
        <a href="https://www.linkedin.com/in/diegoaveirobs/" target="_blank"><h1>My Dynamic Portfolio</h1></a>
    </section>

    <section id="drag2" onmousedown="startDrag(event)" ontouchstart="startDrag(event)">
        <a href="https://diegoaveiro.github.io/eva.vivart/" target="_blank"><img src="images/eva.png" alt="Imagem" width="100px" height="100px"></a>
    </section>
    
    <section id="drag3" onmousedown="startDrag(event)" ontouchstart="startDrag(event)">
        <a href="https://diegoaveiro.github.io/comraca_equipaderesgateanimal/" target="_blank"><img src="images/comraca.png" alt="Imagem" width="150px" height="150px"></a>
    </section>
    
    <section id="drag4" onmousedown="startDrag(event)" ontouchstart="startDrag(event)">
        <a href="https://diegoaveiro.github.io/bereal/" target="_blank"><img src="images/bereal.png" alt="Imagem" width="150px" height="150px"></a>
    </section>
    
    <button onclick="shuffleSections(), shuffleZIndex(), changeImage()"><img id="changingImage" src="images/yinyang.png" alt="" width="50px" height="50px"></button>















    <script>
        function startDrag(event) {
            event.preventDefault();

            var target = event.target.closest('section'); // Encontrar a seção pai do alvo (pode ser o h1 ou a imagem)
            var offsetX = 0;
            var offsetY = 0;

            if (event.type === 'mousedown') {
                offsetX = event.clientX - target.getBoundingClientRect().left;
                offsetY = event.clientY - target.getBoundingClientRect().top;
                document.addEventListener("mousemove", drag);
                document.addEventListener("mouseup", stopDrag);
            } else if (event.type === 'touchstart') {
                offsetX = event.touches[0].clientX - target.getBoundingClientRect().left;
                offsetY = event.touches[0].clientY - target.getBoundingClientRect().top;
                document.addEventListener("touchmove", drag);
                document.addEventListener("touchend", stopDrag);
            }

            function drag(e) {
                e.preventDefault();

                var clientX = e.clientX || e.touches[0].clientX;
                var clientY = e.clientY || e.touches[0].clientY;

                var newX = clientX - offsetX;
                var newY = clientY - offsetY;

                // Limitar as coordenadas para garantir que a seção permaneça visível na tela
                newX = Math.max(0, Math.min(newX, window.innerWidth - target.clientWidth));
                newY = Math.max(0, Math.min(newY, window.innerHeight - target.clientHeight));

                // Atualize a posição do elemento
                target.style.left = newX + "px";
                target.style.top = newY + "px";

                // Salve as posições no localStorage
                localStorage.setItem(target.id, JSON.stringify({ left: newX, top: newY }));
            }

            function stopDrag() {
                document.removeEventListener("mousemove", drag);
                document.removeEventListener("mouseup", stopDrag);
                document.removeEventListener("touchmove", drag);
                document.removeEventListener("touchend", stopDrag);
            }
        }











        

        function shuffleSections() {
            var sections = document.querySelectorAll('section');
            sections.forEach(function(section) {
                var randomX = Math.random() * (window.innerWidth - section.clientWidth);
                var randomY = Math.random() * (window.innerHeight - section.clientHeight);
                section.style.left = randomX + 'px';
                section.style.top = randomY + 'px';

                // Salve as posições no localStorage
                localStorage.setItem(section.id, JSON.stringify({ left: randomX, top: randomY }));
            });
        }


        function shuffleSections2() {
            var sections = document.querySelectorAll('section');
            sections.forEach(function(section) {
                animateSection(section);
            });
        }

        function getRandomPosition() {
            // Gera uma posição aleatória dentro da tela
            var randomX = Math.random() * (window.innerWidth - 200); // 200 é a largura da seção
            var randomY = Math.random() * (window.innerHeight - 200); // 200 é a altura da seção
            return { x: randomX, y: randomY };
        }

        function animateSection(section) {
            // Define uma animação para a seção
            section.style.transition = 'none';
            section.style.opacity = 1;

            function moveSection() {
                var newPosition = getRandomPosition();
                section.style.transform = 'translate(' + newPosition.x + 'px, ' + newPosition.y + 'px)';
            }

            // Move a seção para uma posição aleatória inicial
            moveSection();

            // Move a seção para uma nova posição aleatória a cada 2 segundos
            setInterval(moveSection, 1000);
        }



        function shuffleZIndex() {
            var sections = document.querySelectorAll('section');
            sections.forEach(function(section) {
                var randomZIndex = Math.floor(Math.random() * 10); // Valor máximo arbitrário de 10, ajuste conforme necessário
                section.style.zIndex = randomZIndex;
            });
        }

        // Carregue as posições salvas no localStorage ao carregar a página
        document.addEventListener('DOMContentLoaded', function() {
            var sections = document.querySelectorAll('section');
            sections.forEach(function(section) {
                var storedPosition = localStorage.getItem(section.id);
                if (storedPosition) {
                    storedPosition = JSON.parse(storedPosition);
                    section.style.left = storedPosition.left + 'px';
                    section.style.top = storedPosition.top + 'px';
                }
            });
        });














        var imageIndex = 0;
        var images = [
            'images/yinyang.png', // Imagem inicial
            'images/yinyang2.png', // Nova imagem 1
            'images/yinyang3.png', // Nova imagem 1
            'images/yinyang4.png', // Nova imagem 1
        ];

        function changeImage() {
            var image = document.getElementById('changingImage');

            // Incrementa o índice da imagem (ou reinicia se atingir o final)
            imageIndex = (imageIndex + 1) % images.length;

            // Altera o src da imagem
            image.src = images[imageIndex];
        }
</script>

</body>
</html>
